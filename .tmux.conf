# __________________________________________________________________        
#  __________________________________________________________________       
#   _____/\\\_________________________________________________________      
#    __/\\\\\\\\\\\_____/\\\\\__/\\\\\_____/\\\____/\\\___/\\\____/\\\_     
#     _\////\\\////____/\\\///\\\\\///\\\__\/\\\___\/\\\__\///\\\/\\\/__    
#      ____\/\\\_______\/\\\_\//\\\__\/\\\__\/\\\___\/\\\____\///\\\/____   
#       ____\/\\\_/\\___\/\\\__\/\\\__\/\\\__\/\\\___\/\\\_____/\\\/\\\___  
#        ____\//\\\\\____\/\\\__\/\\\__\/\\\__\//\\\\\\\\\____/\\\/\///\\\_ 
#         _____\/////_____\///___\///___\///____\/////////____\///____\///__


#********************************************************************* 
#* Basic Settings
#********************************************************************/ 

# Set true colors in tmux
    set-option -g default-terminal "screen-256color"
#set -g default-terminal "xterm-256color"

    set -ga terminal-overrides ",*256col*:Tc"

# Repeat time 0
    set-option -g repeat-time 0

# Set windows to start at 1
    set -g base-index 1

# Bind vim key bindings for panes
    setw -g mode-keys vi

# Allow Vim status like
    set -g status-keys vi

# Allow for mouse support
    set -g mouse on

# Set terminal title
    set -g set-titles on
 
# Hopefully make Escape faster
    set -s escape-time 0

#********************************************************************* 
#* Bindings
#********************************************************************/ 

# Prefix from 'C-b' to 'C-t'
    unbind C-b
    set-option -g prefix C-t
    bind-key C-t send-prefix

# Reload TMUX
    bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf" 

# Use vim-like keys for splits and windows
    bind V split-window -h -c '#{pane_current_path}'  # Split panes horizontal
    bind H split-window -v -c '#{pane_current_path}'  # Split panes vertically

# Smart pane switching with awareness of Vim splits -> christoomey/vim-tmux-navigator
    is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
        | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"
    bind-key -n C-h if-shell "$is_vim" "send-keys C-h"  "select-pane -L"
    bind-key -n C-j if-shell "$is_vim" "send-keys C-j"  "select-pane -D"
    bind-key -n C-k if-shell "$is_vim" "send-keys C-k"  "select-pane -U"
    bind-key -n C-l if-shell "$is_vim" "send-keys C-l"  "select-pane -R"
    bind-key -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"
    bind-key -T copy-mode-vi C-h select-pane -L
    bind-key -T copy-mode-vi C-j select-pane -D
    bind-key -T copy-mode-vi C-k select-pane -U
    bind-key -T copy-mode-vi C-l select-pane -R
    bind-key -T copy-mode-vi C-\ select-pane -l

# Moving Windows
    bind-key -n C-S-Left swap-window -t -1
    bind-key -n C-S-Right swap-window -t +1

# Tmux Copy-Mode: <Prefix>[
    bind P paste-buffer
    bind-key -T copy-mode-vi 'v' send-keys -X begin-selection
    bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
    bind-key -T copy-mode-vi 'r' send-keys -X rectangle-toggle

# Open current directory
    bind o run-shell "open #{pane_current_path}"
    bind -r e kill-pane -a

# Shortcut for adding synchronization to Tmux
    bind e set-window-option synchronize-panes


#********************************************************************* 
#* Panes
#********************************************************************/ 

    set -g pane-border-style fg=colour60
    set -g pane-active-border fg=colour36

#********************************************************************* 
#* Statusbar
#********************************************************************/ 
#Colors
# Green: 36
# Purple: 61
# Bright Purple: 99
# Black: 233
# Lighter Black: 234
# White-yellow: 230?
# Yellow: 220
# Nicer green:

# Basic Configuration and set colors
    set -g status-position bottom
    set -g status-justify left
    set -g status-style 'fg=colour36 bg=colour233'
#    set -g status-right-length 50
#    set -g status-left-length 40

# Status left Session, Window, Terminal
    set -g status-left '#[fg=colour36][#S] #[fg=colour36][#P] '

# Status middle: Window list 
    setw -g window-status-style 'fg=colour36 bg=colour233'
    setw -g window-status-format ' #I#[fg=colour230]:#[fg=colour230]#W#[fg=colour99]#F '

# Active window
    setw -g window-status-current-style 'fg=colour220 bg=colour61 bold'

# Set the color of the Right: Time etc
    set -g status-right '#(hostname) #[fg=colour36] [%d/%m/%Y] '


# Powerline Status bar
#run-shell "powerline-daemon -q"
#source "/Users/Gmo/Library/Python/3.7/lib/python/site-packages/powerline/bindings/tmux/powerline.conf"

